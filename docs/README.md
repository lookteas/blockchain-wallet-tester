# Transfer Tool

åŸºäº `urfave/cli/v2` çš„å¤šé’±åŒ…è½¬è´¦ä¸æŸ¥è¯¢ CLI å·¥å…·

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **ç§é’¥å®‰å…¨**: æ‰€æœ‰ç§é’¥ä»…ä» `.env` æ–‡ä»¶åŠ è½½ï¼Œç»ä¸é€šè¿‡å‘½ä»¤è¡Œæš´éœ²
- ğŸ§­ **å‘½ä»¤ç›´è§‚**: æ—¥å¸¸æ“ä½œå‘½ä»¤æ¥è¿‘è‡ªç„¶è¯­è¨€
- ğŸ‘€ **ä½™é¢å…¨è§ˆ**: æ˜¾ç¤ºæ‰€æœ‰é’±åŒ…çš„ä½™é¢çŠ¶æ€
- âš–ï¸ **æ‰¹é‡è½®è¯¢**: æ‰¹é‡ä»»åŠ¡ä½¿ç”¨æ‰€æœ‰é’±åŒ…ï¼ŒæŒ‰ Round-Robin å‡åŒ€åˆ†é…
- ğŸŒ **å¤šç½‘ç»œæ”¯æŒ**: é»˜è®¤ Sepoliaï¼Œæ”¯æŒ mainnetã€polygon ç­‰

## é¡¹ç›®ç»“æ„

```
transfer-tool/
â”œâ”€â”€ cmd/transfer-tool/          # ä¸»ç¨‹åºå…¥å£
â”‚   â””â”€â”€ main.go
â”œâ”€â”€ internal/                   # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ commands/              # å‘½ä»¤å®ç°
â”‚   â”‚   â”œâ”€â”€ balance.go         # ä½™é¢æŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ batch.go           # æ‰¹é‡è½¬è´¦
â”‚   â”‚   â””â”€â”€ send.go            # å•ç¬”è½¬è´¦
â”‚   â”œâ”€â”€ config/                # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ app.go             # åº”ç”¨é…ç½®
â”‚   â”‚   â””â”€â”€ batch.go           # æ‰¹é‡è½¬è´¦é…ç½®
â”‚   â””â”€â”€ wallet/                # é’±åŒ…ç®¡ç†
â”‚       â””â”€â”€ manager.go
â”œâ”€â”€ pkg/                       # å…¬å…±åŒ…
â”‚   â”œâ”€â”€ ethereum/              # ä»¥å¤ªåŠç›¸å…³
â”‚   â””â”€â”€ excel/                 # Excelå¤„ç†
â”œâ”€â”€ configs/                   # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.example.yaml    # é…ç½®ç¤ºä¾‹
â”‚   â”œâ”€â”€ config.yaml            # å®é™…é…ç½®
â”‚   â”œâ”€â”€ env.example            # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚   â”œâ”€â”€ recipients.example.xlsx # æ¥æ”¶æ–¹ç¤ºä¾‹
â”‚   â””â”€â”€ recipients.xlsx        # å®é™…æ¥æ”¶æ–¹æ•°æ®
â”œâ”€â”€ data/                      # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ .gitkeep              # ä¿æŒç›®å½•ç»“æ„
â”‚   â””â”€â”€ batch_report_*.md     # æ‰¹é‡è½¬è´¦æŠ¥å‘Š
â”œâ”€â”€ docs/                      # æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md             # ä½¿ç”¨è¯´æ˜
â”‚   â”œâ”€â”€ ARCHITECTURE.md       # æ¶æ„æ–‡æ¡£
â”‚   â””â”€â”€ ...                   # å…¶ä»–æ–‡æ¡£
â”œâ”€â”€ go.mod                     # Goæ¨¡å—æ–‡ä»¶
â”œâ”€â”€ go.sum                     # ä¾èµ–æ ¡éªŒæ–‡ä»¶
â”œâ”€â”€ transfer-tool.exe          # ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶
â””â”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### 1. ç¼–è¯‘å·¥å…·
```bash
go build -o transfer-tool
```

### 2. é…ç½®ç§é’¥
å¤åˆ¶ `env.example` ä¸º `.env` å¹¶å¡«å…¥æ‚¨çš„ç§é’¥ï¼š
```bash
cp env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
```env
PRIVATE_KEYS=your_private_key_1,your_private_key_2,your_private_key_3
```

### 3. åŸºæœ¬ä½¿ç”¨

#### æŸ¥çœ‹æ‰€æœ‰é’±åŒ…ä½™é¢
```bash
./transfer-tool balance
```

#### å•ç¬”è½¬è´¦
```bash
# å‘æŒ‡å®šåœ°å€è½¬è´¦ 0.1 ETH
./transfer-tool send 0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6 0.1

# è·³è¿‡ç¡®è®¤æç¤º
./transfer-tool send 0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6 0.1 --yes

# åœ¨ä¸»ç½‘è½¬è´¦ï¼ˆéœ€è¦é¢å¤–ç¡®è®¤ï¼‰
./transfer-tool --network mainnet send 0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6 1.0
```

#### æ‰¹é‡è½¬è´¦
```bash
# ä½¿ç”¨é…ç½®æ–‡ä»¶è¿›è¡Œæ‰¹é‡è½¬è´¦
./transfer-tool batch --config config.example.yaml
```

## ç½‘ç»œæ”¯æŒ

- `sepolia` (é»˜è®¤) - æµ‹è¯•ç½‘
- `goerli` - æµ‹è¯•ç½‘  
- `mainnet` - ä¸»ç½‘
- `bnb` - BSCé“¾
- `polygon` - Polygoné“¾

## é…ç½®æ–‡ä»¶æ ¼å¼

### æ‰¹é‡è½¬è´¦é…ç½® (config.yaml)
```yaml
transfer:
  token_address: ""  # ç•™ç©ºè¡¨ç¤ºETHè½¬è´¦

data_sources:
  recipients_xlsx: "./data/recipients.xlsx"  # æ¥æ”¶æ–¹Excelæ–‡ä»¶
```

### æ¥æ”¶æ–¹Excelæ–‡ä»¶æ ¼å¼
Excelæ–‡ä»¶å¿…é¡»åŒ…å«ä»¥ä¸‹åˆ—ï¼š
- `address`: æ¥æ”¶æ–¹ä»¥å¤ªåŠåœ°å€
- `amount`: è½¬è´¦é‡‘é¢ï¼ˆETHï¼‰

ç¤ºä¾‹ï¼š
| address | amount |
|---------|--------|
| 0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6 | 0.1 |
| 0x8ba1f109551bD432803012645Hac136c | 0.05 |

## å®‰å…¨æé†’

1. **ç§é’¥å®‰å…¨**: ç§é’¥ä»…å­˜å‚¨åœ¨ `.env` æ–‡ä»¶ä¸­ï¼Œç»ä¸é€šè¿‡å‘½ä»¤è¡Œæš´éœ²
2. **ä¸»ç½‘ç¡®è®¤**: ä¸»ç½‘æ“ä½œéœ€è¦è¾“å…¥ `MAINNET` ç¡®è®¤
3. **æµ‹è¯•ä¼˜å…ˆ**: å»ºè®®å…ˆåœ¨æµ‹è¯•ç½‘éªŒè¯åŠŸèƒ½
4. **å¤‡ä»½é‡è¦**: è¯·å¦¥å–„ä¿ç®¡ç§é’¥å’Œé…ç½®æ–‡ä»¶

## é”™è¯¯å¤„ç†

- ä½™é¢ä¸è¶³æ—¶ä¼šæ˜¾ç¤ºå…·ä½“éœ€è¦çš„é‡‘é¢
- ç½‘ç»œè¿æ¥å¤±è´¥æ—¶ä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
- é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯æ—¶ä¼šæŒ‡å‡ºå…·ä½“é—®é¢˜
- æ‰€æœ‰æ“ä½œéƒ½æœ‰è¯¦ç»†çš„é”™è¯¯æç¤º

## æŠ¥å‘Šç”Ÿæˆ

æ‰¹é‡è½¬è´¦å®Œæˆåä¼šç”Ÿæˆ Markdown æ ¼å¼çš„æŠ¥å‘Šæ–‡ä»¶ï¼Œä¿å­˜åœ¨ `data/` ç›®å½•ä¸­ï¼Œæ–‡ä»¶åæ ¼å¼ä¸º `batch_report_<timestamp>.md`ï¼ŒåŒ…å«ï¼š

### æŠ¥å‘Šå†…å®¹
- **åŸºæœ¬ä¿¡æ¯**: è½¬è´¦æ—¶é—´ã€ç½‘ç»œã€é“¾ID
- **è½¬è´¦æ±‡æ€»**: æ€»è®¡ã€æˆåŠŸã€å¤±è´¥æ•°é‡å’ŒæˆåŠŸç‡ç»Ÿè®¡
- **æˆåŠŸè½¬è´¦è¯¦æƒ…**: è¡¨æ ¼å½¢å¼æ˜¾ç¤ºæ¥æ”¶åœ°å€ã€é‡‘é¢ã€å‘é€åœ°å€ã€äº¤æ˜“å“ˆå¸Œå’ŒåŒºå—æµè§ˆå™¨é“¾æ¥
- **å¤±è´¥è½¬è´¦è¯¦æƒ…**: è¡¨æ ¼å½¢å¼æ˜¾ç¤ºå¤±è´¥åŸå› 
- **ç»Ÿè®¡ä¿¡æ¯**: æŠ¥å‘Šç”Ÿæˆæ—¶é—´ã€æ ¼å¼å’Œå·¥å…·ç‰ˆæœ¬

### æŠ¥å‘Šç¤ºä¾‹
```markdown
# æ‰¹é‡è½¬è´¦æŠ¥å‘Š

## åŸºæœ¬ä¿¡æ¯
- **æ—¶é—´**: 2025-10-05 00:00:00
- **ç½‘ç»œ**: sepolia
- **é“¾ID**: 11155111

## è½¬è´¦æ±‡æ€»
| é¡¹ç›® | æ•°é‡ |
|------|------|
| æ€»è®¡ | 10 |
| æˆåŠŸ | 8 |
| å¤±è´¥ | 2 |
| æˆåŠŸç‡ | 80.00% |
```

## ç¤ºä¾‹å·¥ä½œæµ

```bash
# 1. æŸ¥çœ‹æ‰€æœ‰é’±åŒ…ä½™é¢
./transfer-tool balance

# 2. å•ç¬”æµ‹è¯•è½¬è´¦
./transfer-tool send 0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6 0.01

# 3. æ‰¹é‡ç©ºæŠ•
./transfer-tool batch --config airdrop.yaml

# 4. æŸ¥çœ‹ä¸»ç½‘ä½™é¢ï¼ˆè°¨æ…ï¼ï¼‰
./transfer-tool --network mainnet balance
```
